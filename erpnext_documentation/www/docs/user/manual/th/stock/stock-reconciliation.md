<!-- add-breadcrumbs -->
# การกระทบยอดสต็อก

**การกระทบยอดสต็อกเป็นกระบวนการนับและประเมินวัสดุ/ผลิตภัณฑ์ เป็นระยะๆ ณ สิ้นปี**

สิ่งนี้ทำเพื่อ:

* รักษาจำนวนสต็อกที่มีอยู่จริงและนับจำนวนสต็อกในซิงค์
* มูลค่าสต็อกเพื่อจัดทำงบการเงิน

คุณลักษณะการกระทบยอดสต็อกใน ERPNext ใช้สำหรับ:

* ลงสต็อคเปิด
* หนังสือกระทบยอดกับสต๊อกจริง

หากต้องการเข้าถึงรายการกระทบยอดสต็อก ไปที่:
> หน้าหลัก > สต็อก > เครื่องมือ > การกระทบยอดสต็อก

## 1. วิธีสร้างการกระทบยอดสต็อกเพื่อโพสต์การเปิดสต็อค

การใช้การกระทบยอดสต็อคทำให้คุณสามารถอัพเดตจำนวนของสินค้าเฉพาะในคลังสินค้า ณ เวลาที่กำหนดได้
คุณสามารถเพิ่มรายการในสต็อกที่มีหมายเลขซีเรียลหรือหมายเลขแบทช์ได้

1. ไปที่รายการการกระทบยอดสต็อก คลิกที่ ใหม่
1. เลือกวัตถุประสงค์เป็น 'การเปิดสต๊อก' คุณสามารถแก้ไขวันที่และเวลาที่โพสต์ได้
1. เลือกรหัสสินค้า คลังสินค้า ปริมาณ และอัตราการประเมินมูลค่า หากมี หมายเลขซีเรียล / หมายเลขแบทช์ ที่เกี่ยวข้อง ให้เพิ่มเข้าไป
1. หากคุณต้องการสร้าง หมายเลขซีเรียล / หมายเลขแบทช์ โดยอัตโนมัติ ให้เว้นฟิลด์เหล่านั้นว่างไว้
    * สำหรับการสร้าง หมายเลขซีเรียล อัตโนมัติ คุณต้องตั้งค่า "หมายเลขซีเรียลเป็นกลุ่ม" ใน รายการสินค้าหลัก
    * สำหรับการสร้างแบทช์อัตโนมัติ คุณต้องเปิดใช้งานช่องกาเครื่องหมาย "สร้างแบทช์ใหม่โดยอัตโนมัติ" ในรายการหลัก
1. บัญชีส่วนต่างจะถูกตั้งค่าเป็น 'การเปิดบัญชีชั่วคราว'
1. บันทึกและส่ง

    ![Opening Stock](/docs/assets/img/stock/opening_stock.png)

> หมายเหตุ: ควรเปิดใช้งานตัวเลือกการรักษาสต็อกในข้อมูลหลักรายการเพื่อให้ใช้งานได้

## 2. วิธีสร้างการกระทบยอดสต็อกเพื่อกระทบยอดหนังสือและจำนวนสต็อคที่มีอยู่จริง

การกระทบยอดสต็อกเป็นกระบวนการนับและประเมินสต็อกที่ซื้อขาย เป็นระยะ และ ณ สิ้นปี เพื่อประเมินมูลค่าของสต็อคทั้งหมดสำหรับการจัดทำงบบัญชี ในกระบวนการนี้ สต็อคที่มีอยู่จริงจะถูกตรวจสอบและบันทึกไว้ในระบบ สต็อคจริงและสต็อคในระบบควรมีความสอดคล้องและถูกต้อง หากไม่เป็นเช่นนั้น คุณสามารถใช้เครื่องมือการกระทบยอดสต็อกเพื่อกระทบยอดยอดดุลสต็อกและมูลค่ากับค่าจริงได้

ในการกระทบยอดหุ้น:

1. ไปที่รายการการกระทบยอดสต็อก คลิกที่ New
1. เลือกวัตถุประสงค์เป็น 'การกระทบยอดสต็อก' คุณสามารถแก้ไขวันที่และเวลาที่โพสต์ได้
1. ตั้งรหัสสินค้า โกดัง
1. ระบบจะดึงปริมาณและอัตราการประเมินมูลค่าปัจจุบัน เปลี่ยนปริมาณตามต้องการ
1. บัญชีค่าใช้จ่ายในบัญชีส่วนต่างจะถูกตั้งค่าเป็น 'การปรับสต็อก' โดยค่าเริ่มต้น
1. ค่าเริ่มต้นของศูนย์ต้นทุนจะเป็น 'หลัก' เปลี่ยนแปลงหากจำเป็น
1. บันทึกและส่ง
  
    ![Stock Reconciliation](/docs/assets/img/stock/stock_recon.png)


## 3. คุณสมบัติ

### 3.1 อัปโหลดข้อมูลผ่านสเปรดชีต

หากคุณมีรายการจำนวนมาก คุณสามารถอัปโหลดรายละเอียดผ่านสเปรดชีตได้

1. ดาวน์โหลดเทมเพลต

  เปิดการกระทบยอดสต็อกใหม่และคลิกที่ปุ่มดาวน์โหลดเพื่อดาวน์โหลดเทมเพลตในรูปแบบ CSV

  <img class="screenshot" alt="Stock Reconciliation" src="{{docs_base_url}}/assets/img/stock/stock-recon-1.png">

2. ป้อนข้อมูลในเทมเพลต CSV

  รูปแบบ CSV คำนึงถึงขนาดตัวพิมพ์ ห้ามแก้ไขส่วนหัวที่กำหนดไว้ล่วงหน้าในเทมเพลต ในคอลัมน์รหัสสินค้าและคลังสินค้า ให้ป้อนรหัสสินค้าและคลังสินค้าตามที่สร้างขึ้นในบัญชี ERPNext ของคุณ สำหรับปริมาณ ป้อนระดับสินค้าคงคลังที่คุณต้องการตั้งค่าสำหรับสินค้านั้น ในคลังสินค้าเฉพาะ

  <img class="screenshot" alt="Stock Reconciliation" src="{{docs_base_url}}/assets/img/stock/stock-reco-data.png">


3. อัปโหลดไฟล์ CSV พร้อมข้อมูลโดยคลิกที่ปุ่ม 'อัปโหลด'

  <img class="screenshot" alt="Stock Reconciliation" src="{{docs_base_url}}/assets/img/stock/stock-recon-2.png">


4. ตรวจสอบ บันทึก และส่ง

  <img class="screenshot" alt="Stock Reconciliation" src="{{docs_base_url}}/assets/img/stock/stock-reco-upload.gif">

5. ตรวจสอบรายงานบัญชีแยกประเภทเพื่ออัพเดทยอดสต็อก

  <img class="screenshot" alt="Stock Reconciliation" src="{{docs_base_url}}/assets/img/stock/stock-reco-ledger.png">

### 3.2 รับยอดคงเหลือของสต็อคและการประเมินมูลค่า ณ วันที่และเวลาที่ระบุ

คุณสามารถนำเข้ายอดคงเหลือของสต็อคและการประเมินมูลค่า ณ วันที่และเวลาที่ระบุจากคลังสินค้าที่เลือกโดยคลิกที่ปุ่ม **รายการ** คุณสามารถอัปเดตปริมาณและอัตราการประเมินมูลค่าได้ตามต้องการ

<img class="screenshot" alt="Stock Reconciliation Items Button" src="{{docs_base_url}}/assets/img/stock/stock_reconciliation_items_button.gif">

## 4. การกระทบยอดสต็อกทำงานอย่างไร

เมื่อมีการผ่านรายการการกระทบยอดสต็อกเพื่ออัปเดตปริมาณในวันที่และเวลาที่ระบุสำหรับสินค้าในคลังสินค้า ธุรกรรมดังกล่าวจะไม่ถูกแก้ไขโดยธุรกรรมสินค้าคงคลังที่ตามมา แม้ว่าธุรกรรมดังกล่าวจะมีวันที่ผ่านรายการซึ่งอยู่ก่อนวันที่กระทบยอดสต็อก กล่าวอีกนัยหนึ่ง รายการย้อนหลังจะไม่เปลี่ยนหมายเลขหุ้นหลังจากผ่านรายการการกระทบยอดสต็อกแล้ว

ตัวอย่างมีดังนี้

### 4.1 สำหรับรายการที่ไม่ต่อเนื่องกัน
พิจารณารายการที่มีรหัส 'ABC001' ในคลังสินค้า 'มุมไบ'
สมมติว่าสต็อก ณ วันที่ 10 มกราคม มี 100 หน่วย
การกระทบยอดสต็อกจะทำขึ้นในวันที่ 12 มกราคม เพื่อกำหนดยอดคงเหลือในสต็อกเป็น 150 หน่วย

บัญชีแยกประเภทสต็อกจะมีลักษณะดังนี้:
<html>
<style>
    td {
    padding:5px 10px 5px 5px;
    };
    img {
    align:center;
    };
    table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
    }
</style>
 <table border="1" cellspacing="0px">
            <tbody>
                <tr align="center" bgcolor="#EEE">
                    <td><b>Posting Date</b>
                    </td>
                    <td><b>Qty</b>
                    </td>
                    <td><b>Balance Qty</b>
                    </td>
                    <td><b>Voucher Type</b>
                    </td>
                </tr>
                <tr>
                    <td>10/01/2014</td>
                    <td align="center">100</td>
                    <td>100&nbsp;</td>
                    <td>Purchase Receipt</td>
                </tr>
                <tr>
                    <td>12/01/2014</td>
                    <td align="center">150</td>
                    <td>150</td>
                    <td>Stock Reconciliation</td>
                </tr>
            </tbody>
        </table>
</html>

หากมีรายการรับซื้อใหม่เกิดขึ้นในวันที่ 5 มกราคม 2557 ซึ่งอยู่ก่อนวันที่รายการกระทบยอดสต็อก บัญชีแยกประเภทหุ้นจะมีลักษณะดังนี้
<html>
    <table border="1" cellspacing="0px">
        <tbody>
            <tr align="center" bgcolor="#EEE">
                <td><b>Posting Date</b></td>
                <td><b>Qty</b></td>
                <td><b>Balance Qty</b></td>
                <td><b>Voucher Type</b></td>
            </tr>
            <tr>
                <td>05/01/2014</td>
                <td align="center">20</td>
                <td style="text-align: center;">20</td>
                <td>Purchase Receipt</td>
            </tr>
            <tr>
                <td>10/01/2014</td>
                <td align="center">100</td>
                <td style="text-align: center;">120</td>
                <td>Purchase Receipt</td>
            </tr>
            <tr>
                <td>12/01/2014</td>
                <td align="center"><br></td>
                <td style="text-align: center;"><b>150</b></td>
                <td>Stock Reconciliation<br></td>
            </tr>
        </tbody>
    </table>
</html>

ยอดดุล ณ วันที่ 10 มกราคม ได้รับการอัปเดตจาก 100 เป็น 120 แต่ยอดดุล ณ วันที่ 12 มกราคม ไม่ได้รับการอัปเดตจาก 150 เป็น 170


### 4.2 สำหรับรายการที่ต่อเนื่องกัน

สำหรับรายการ ITEM-00225 ที่มีหมายเลขซีเรียล 6 หมายเลข HJF00020, HJF00021, HJF00022, HJF00023, HJF00024, HJF00025 โดยมีอัตราการประเมินมูลค่า 530 ต่อหมายเลขซีเรียล ปลายปีนี้ ผู้ใช้ได้รู้ว่ามี หมายเลขซีเรียล เพียง 3 หมายเลขซีเรียล เทียบกับรายการนั้นที่มี Valuation Rate 620 ดังนั้นให้ลบ หมายเลขซีเรียล เก่า HJF00020, HJF00021, HJF00022, HJF00023, HJF00024, HJF00025 ออก และเพิ่มใหม่ หมายเลขซีเรียลที่มีอัตราการตีราคาใหม่ การกระทบยอดสต็อก สามารถใช้ได้ดังนี้:

เลือกรายการ ITEM-00225 ในการกระทบยอดสต็อก ในการเลือกรายการ ระบบจะดึงหมายเลขซีเรียลที่มีอยู่โดยอัตโนมัติ จากนั้นตั้งค่า Qty เป็น 3, Valuation Rate เป็น 530 และ หมายเลขซีเรียล เป็น HJF00026, HJF00027, HJF00028


<img class="screenshot" alt="Stock Reconciliation" src="{{docs_base_url}}/assets/img/stock/stock-recon-for-serialized.png">

ก่อนการกระทบยอด อัตราการประเมินมูลค่าคือ 530 และจำนวนที่มีอยู่คือ 6 ดังนั้นมูลค่าสต็อคทั้งหมดจึงเท่ากับ 3,180 หลังจากการกระทบยอด อัตราการประเมินมูลค่าเปลี่ยนเป็น 620 และจำนวนที่มีอยู่เปลี่ยนเป็น 3 ดังนั้นมูลค่าหุ้นใหม่จึงกลายเป็น 1,860 ในการปรับมูลค่าสต็อคในการบัญชี ระบบได้เพิ่มยอดเงินพิเศษ 3,180 - 1,860 = 1,320 เข้าบัญชีของ คลังสินค้า และหักเข้าบัญชีการปรับปรุงสต็อก รายการ GL สำหรับรายการด้านบนมีดังนี้:

หากต้องการดูรายการ GL ให้คลิกที่ปุ่ม ดู > บัญชีแยกประเภท

<img class="screenshot" alt="Stock Reconciliation" src="{{docs_base_url}}/assets/img/stock/gl_entry_for_serialized_items.png">

ยอดเงินคงเหลือหลังจากส่งการกระทบยอดสต็อก:
<img class="screenshot" alt="Stock Reconciliation" src="{{docs_base_url}}/assets/img/stock/stock_balance_after_stock_reco_submission.png">

บัญชีแยกประเภททั่วไปสำหรับบัญชีคลังสินค้านาคปุระหลังจากส่งการกระทบยอดสต็อก:
<img class="screenshot" alt="Stock Reconciliation" src="{{docs_base_url}}/assets/img/stock/general_ledger_after_stock_reco_submission.png">

### 4.3 สำหรับรายการแบทช์

การกระทบยอดสินค้าคงคลังสำหรับสินค้าชุดงานจะใช้เพื่อเพิ่มชุดงานใหม่หรือปรับปรุงปริมาณของชุดงานที่มีอยู่ ตัวอย่างเช่น แบทช์ JHGJH00003 มีปริมาณปัจจุบันเป็น 60 แต่ถ้าผู้ใช้ต้องการทำให้เป็น 100 โดยใช้การกระทบยอดสต็อก ผู้ใช้สามารถอัปเดตปริมาณแบทช์ได้

<img class="screenshot" alt="Stock Reconciliation" src="{{docs_base_url}}/assets/img/stock/for_batch_item_after_stock_reco_submission.png">

รายงานประวัติยอดคงเหลือแบบ Batch-Wise หลังจากส่งการกระทบยอดสต็อก:
<img class="screenshot" alt="Stock Reconciliation" src="{{docs_base_url}}/assets/img/stock/batchwise_balance_history_after_stock_reco_submission.png">

## 5. วีดีโอ

<div class="embed-container">
    <iframe src="https://www.youtube.com/embed/nlHX0ZZ84Lw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen>
    </iframe>
</div>

### 6. หัวข้อที่เกี่ยวข้อง
1. [รายการสต็อค](/docs/user/manual/th/stock/stock-entry)
1. [การบัญชีสินค้าคงคลัง](/docs/user/manual/th/stock/accounting-of-inventory-stock)


{next}
