<!-- add-breadcrumbs -->
# จำนวนฟิลด์สูงสุดในแบบฟอร์ม

บางครั้งในขณะที่สร้างฟิลด์ที่กำหนดเอง คุณอาจพบข้อความแสดงข้อผิดพลาดที่มีลักษณะดังนี้:

> ขนาดแถวใหญ่เกินไป ขนาดแถวสูงสุดสำหรับประเภทตารางที่ใช้ โดยไม่นับ BLOB คือ 65535 ซึ่งรวมถึงโอเวอร์เฮดในการจัดเก็บ โปรดตรวจสอบคู่มือ คุณต้องเปลี่ยนบางคอลัมน์เป็น TEXT หรือ BLOB

### หมายความว่าอย่างไร?

พูดง่ายๆ ก็คือ หมายความว่าคุณถึงขีดจำกัดจำนวนฟิลด์สูงสุดสำหรับแบบฟอร์ม/ประเภทเอกสารเฉพาะแล้ว ดังนั้นขีด จำกัด สูงสุดของฟิลด์คืออะไร?

ใน MySQL มีขีดจำกัด 4096 คอลัมน์ต่อตาราง แต่ค่าสูงสุดที่มีประสิทธิภาพอาจน้อยกว่าสำหรับตารางที่กำหนด ขีดจำกัดที่แน่นอนขึ้นอยู่กับปัจจัยการโต้ตอบหลายประการ

ทุกตาราง (โดยไม่คำนึงถึงเครื่องมือจัดเก็บข้อมูล) มีขนาดแถวสูงสุด 65,535 ไบต์ เอ็นจิ้นการจัดเก็บอาจวางข้อจำกัดเพิ่มเติมในขีดจำกัดนี้ ซึ่งจะช่วยลดขนาดแถวสูงสุดที่มีผล

ขนาดแถวสูงสุดจำกัดจำนวนคอลัมน์ (และอาจเป็นขนาด) เนื่องจากความยาวรวมของคอลัมน์ทั้งหมดต้องไม่เกินขนาดนี้ (65,535 ไบต์) ตัวอย่างเช่น อักขระ "utf8mb3" ต้องการอักขระสูงสุด 3 ไบต์ต่ออักขระ ดังนั้นสำหรับคอลัมน์ "VARCHAR(140)" เซิร์ฟเวอร์ต้องจัดสรรไบต์ "140 × 3 = 420" ต่อค่า ดังนั้น ตารางไม่สามารถมีคอลัมน์ดังกล่าวได้มากกว่า `65,535 / 420 = 156`

ในเฟรมเวิร์ก Frappe คอลัมน์ประเภท `VARCHAR(140)` จะถูกสร้างขึ้นตามประเภทฟิลด์ "ข้อมูล" "ลิงก์" "เลือก" "ลิงก์แบบไดนามิก" "รหัสผ่าน" และ "อ่านอย่างเดียว" ดังนั้น คุณสามารถสร้างคอลัมน์ดังกล่าวได้ประมาณ 156 คอลัมน์ในระบบ

### วิธีการแก้:

หากต้องการเพิ่มฟิลด์ในระบบ คุณสามารถทำการเปลี่ยนแปลงบางอย่างได้

1. แปลงฟิลด์บางฟิลด์เป็นฟิลด์ประเภท "Text", "Small Text", "Text Editor" หรือ "Code" ใน MySQL คอลัมน์ BLOB และ TEXT นับหนึ่งถึงสี่บวกแปดไบต์ต่อขนาดแถวที่จำกัด เนื่องจากเนื้อหาจะถูกจัดเก็บแยกจากส่วนที่เหลือของแถว ดังนั้น การแปลงเป็นประเภทฟิลด์เหล่านั้นจะเพิ่มพื้นที่ว่างบางส่วนและจะอนุญาตให้เพิ่มฟิลด์เพิ่มเติมได้
2. ตั้งค่าให้น้อยลงในคุณสมบัติ "ความยาว" ขณะสร้างฟิลด์ ค่าเริ่มต้นคือ 140 ระบบจะตั้งค่าความยาวของ "VARCHAR" ตามคุณสมบัตินี้และจัดสรรขนาดสำหรับคอลัมน์เหล่านั้น ดังนั้นความยาวที่น้อยกว่าจะนำไปสู่การเพิ่มฟิลด์เพิ่มเติม

{next}
