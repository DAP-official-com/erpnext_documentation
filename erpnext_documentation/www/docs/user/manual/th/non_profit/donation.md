<!-- add-breadcrumbs -->
#บริจาค

> เปิดตัวในเวอร์ชั่น 13

เอกสารการบริจาคช่วยให้คุณบันทึกรายละเอียดการบริจาคสำหรับ **ผู้บริจาค**

## 1. ข้อกำหนดเบื้องต้น

ก่อนสร้างการบริจาค คุณต้องสร้าง [ผู้บริจาค](/docs/user/manual/th/non_profit/donor) ก่อน

## 2. วิธีสร้างการบริจาค

หากต้องการสร้างการบริจาคใหม่ให้ไปที่:

> องค์กรไม่แสวงหากำไร > การบริจาค > ใหม่

<img class="screenshot" alt="Donation" src="{{docs_base_url}}/assets/img/non_profit/donation.png">

1. เลือกผู้บริจาค ชื่อผู้บริจาคและอีเมลจะถูกดึงโดยอัตโนมัติ
2. กำหนดวันที่บริจาค
3. กำหนดจำนวนเงินและรูปแบบการชำระเงิน
4. บันทึกและส่ง

## 3. คุณสมบัติ

### 3.1 รายการชำระเงินสำหรับการบริจาค

ในการส่งการบริจาค คุณสามารถสร้างรายการการชำระเงินโดยใช้ปุ่ม **สร้างรายการการชำระเงิน**

### 3.2 RazorPay สำหรับการบริจาค

คุณสามารถตั้งค่า RazorPay เพื่อรวบรวมเงินบริจาคได้ คุณสามารถดูคำแนะนำในการตั้งค่า razorpay ได้ [ที่นี่](/docs/user/manual/th/erpnext_integration/razorpay-integration)

คุณสามารถทำตามขั้นตอนด้านล่างเพื่อตั้งค่า Razorpay สำหรับการบริจาค

1. ตั้งค่า RazorPay
1. ตั้งค่า RazorPay Webhook

#### 3.2.1 ตั้งค่า RazorPay

คุณสามารถดูคำแนะนำในการตั้งค่า razorpay ได้ [ที่นี่](/docs/user/manual/th/erpnext_integration/razorpay-integration)

ในการจับภาพการบริจาค คุณต้องตั้งค่าเริ่มต้นบางอย่างในส่วนการตั้งค่าการบริจาคใน [การตั้งค่าองค์กรที่ไม่แสวงหากำไร](/docs/user/manual/th/non_profit/non_profit_settings)

1. **บริษัทเริ่มต้น**: บริษัทนี้จะถูกตั้งค่าสำหรับการบริจาคที่สร้างผ่านเว็บฮุค
1. **ประเภทผู้บริจาคเริ่มต้น**: ประเภทผู้บริจาคนี้จะถูกตั้งค่าสำหรับผู้บริจาคที่สร้างผ่านเว็บฮุคการบริจาค
1. **รายการชำระเงินบริจาคอัตโนมัติ**: คุณสามารถเปิดใช้งานสิ่งนี้เพื่อสร้างรายการชำระเงินอัตโนมัติสำหรับรายการบริจาคที่สร้างผ่านเว็บฮุค

หากเปิดใช้งาน _Automate Donation Payment Entries_ คุณจะต้องตั้งค่าบัญชีเดบิตเริ่มต้นและบัญชีชำระเงินการบริจาคสำหรับรายการการชำระเงิน

<img class="screenshot" alt="Donation Settings" src="{{docs_base_url}}/assets/img/non_profit/donation-settings.png">

#### 3.2.2 การตั้งค่า webhook

คุณสามารถตั้งค่าเว็บฮุคจากแดชบอร์ด RazorPay ในการตั้งค่า คุณสามารถอ่านเพิ่มเติมเกี่ยวกับเว็บฮุคใน RazorPay ได้ [ที่นี่](https://razorpay.com/docs/webhooks/) เว็บฮุคนี้จะแจ้งไซต์ ERPNext ของคุณทุกครั้งที่มีการบริจาคใหม่

<img class="screenshot" alt="Donation Webhook" src="{{docs_base_url}}/assets/img/non_profit/donation-webhook.png">

คุณจะต้องใช้รายละเอียดต่อไปนี้เพื่อตั้งค่าเว็บฮุค

1. **Webhook URL**: ต่อไปนี้เป็น URL สำหรับไซต์ ERPNext ของคุณ นี่คือจุดสิ้นสุด RazorPay จะใช้เพื่อแจ้งการบริจาคใหม่ที่สร้างขึ้น

    ```sh
    https://<your-site>/api/method/erpnext.non_profit.doctype.donation.donation.capture_razorpay_donations
    ```

2. **Secret**: ในการรักษาความปลอดภัยปลายทาง API ของคุณ จะดีกว่าเสมอที่จะสร้างและตั้งค่า Webhook Secret สำหรับ API Endpoint ในการดำเนินการดังกล่าว บนไซต์ ERPNext ของคุณ คุณสามารถคลิกที่ปุ่ม **การบริจาค > สร้าง Secret ของ Webhook** ในการตั้งค่าองค์กรที่ไม่แสวงหากำไร คัดลอกข้อมูลลับแล้ววางในช่องข้อมูลลับบนแดชบอร์ด RazorPay เพื่อตั้งค่าเว็บฮุค

3. **เหตุการณ์**: คุณต้องเปิดใช้งานเหตุการณ์ 'payment.captured'

4. **ใช้งานอยู่**: เลือกรายการนี้เพื่อเปิดใช้งานเว็บฮุค

ด้วยวิธีนี้ เว็บฮุคของคุณจะเปิดใช้งาน

{next}
