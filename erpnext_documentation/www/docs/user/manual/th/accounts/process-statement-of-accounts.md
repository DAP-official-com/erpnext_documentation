<!-- add-breadcrumbs -->

# ใบแจ้งยอดบัญชี

> Introduced in Version 13

**ใบแจ้งยอดบัญชีเป็นเครื่องมือที่ช่วยให้คุณส่งใบแจ้งยอดบัญชี (รายงานบัญชีแยกประเภททั่วไป) และรายงานอายุ (สรุปบัญชีลูกหนี้) เป็น PDF ให้กับลูกค้าของคุณเป็นกลุ่มผ่านทางอีเมลด้วยตนเองหรือโดยอัตโนมัติเป็นระยะ**

คุณลักษณะนี้มีประโยชน์เมื่อคุณต้องการส่งการอัปเดตทางอีเมลถึงลูกค้าเป็นระยะเกี่ยวกับธุรกรรมของพวกเขา (เช่น ใบกำกับสินค้า) ในไฟล์แนบ PDF ที่ส่งทางอีเมลที่ส่งถึงลูกค้า สำหรับลูกค้าแต่ละราย จะมีรายละเอียด เช่น วันที่โพสต์ใบแจ้งหนี้ หมายเลขใบกำกับสินค้า รายละเอียดเดบิตและเครดิต ฯลฯ ที่เกี่ยวข้องกับบัญชีของพวกเขา

จุดประสงค์ของคุณสมบัตินี้คือเตือนลูกค้าหลายรายว่าพวกเขามีใบแจ้งหนี้ที่ค้างชำระอยู่

<br>
ในการเข้าถึง *ใบแจ้งยอดบัญชี* คุณสามารถค้นหาในแถบนำทางหรือไปที่:

> หน้าหลัก > การบัญชี > เครื่องมือ > ใบแจ้งยอดบัญชี

## 1. ข้อกำหนดเบื้องต้น

1. เครื่องมือนี้ใช้รหัสอีเมลของลูกค้าเพื่อส่งรายงาน เมื่อไม่พบรายการอีเมลด้านล่างในการติดต่อของลูกค้า เครื่องมือจะไม่อนุญาตให้คุณเลือกลูกค้าที่เกี่ยวข้อง ดังนั้นโปรดตรวจสอบให้แน่ใจว่าได้กรอกรายละเอียดต่อไปนี้ในเอกสารของลูกค้า

    - อีเมลเรียกเก็บเงินของลูกค้า: นี่เป็นข้อบังคับและสามารถตั้งค่าได้ภายใน [ข้อมูลติดต่อลูกค้า](/docs/user/manual/th/CRM/contact#1-how-to-create-a-contact) โดยเลือกตัวเลือก "เป็นผู้ติดต่อสำหรับการเรียกเก็บเงิน"
    - อีเมลหลักของลูกค้า: ไม่จำเป็น เว้นแต่คุณจะเลือก "ส่งไปยังผู้ติดต่อหลัก" ในแบบฟอร์ม

2. การตั้งค่าบัญชีอีเมลโดยเปิดใช้งานขาออก อ่าน [ที่นี่](/docs/user/manual/th/setting-up/email/email-account) เพื่อทราบข้อมูลเพิ่มเติม


## 2. วิธีสร้างรายการบัญชีใบแจ้งยอด

1. ไปที่มุมมองรายการ "ใบแจ้งยอดบัญชี" โดยค้นหาในแถบนำทางแล้วคลิก "ใหม่"

2. ป้อนชื่อสำหรับรายการเพื่อใช้อ้างอิงในอนาคต

3. ตั้งค่าตัวกรองบัญชีแยกประเภททั่วไปสำหรับใบแจ้งยอดซึ่งจะถูกส่งไปยังลูกค้า
    
    - ตัวกรอง "จากวันที่" และ "ถึงวันที่" จะถูกซ่อนและป้อนอัตโนมัติแบบไดนามิกเมื่อเลือกตัวเลือก "เปิดใช้งานอีเมลอัตโนมัติ"
    - "โครงการ" และ "ศูนย์ต้นทุน" คือฟิลด์ [Table MultiSelect](/docs/user/manual/th/customize-erpnext/articles/table-multiselect-field) หมายความว่าคุณสามารถเลือกหลายโครงการและศูนย์ต้นทุนในตัวกรองบัญชีแยกประเภททั่วไป

    <img class="screenshot" src="{{docs_base_url}}/assets/img/accounts/psoa-name_and_filters.png">
    
4. ในส่วน "ลูกค้า" คุณมีตัวเลือกในการเลือกลูกค้าในตารางย่อยและดึงอีเมลหลักและอีเมลเรียกเก็บเงิน

    - ฟิลด์ "เลือกลูกค้าโดย" ให้คุณเลือกลูกค้าเป็นกลุ่ม โดยจัดกลุ่มตาม "กลุ่มลูกค้า" "พื้นที่" "พันธมิตรการขาย" และ "พนักงานขาย" โดยการป้อนการเลือกและคลิกที่ "ดึงลูกค้า"
    - ในเอกสาร doctypes แบบโครงสร้างต้นไม้ เช่น "อาณาเขต" "พนักงานขาย" และ "กลุ่มลูกค้า" ในการเลือกค่าของกลุ่ม ลูกค้าที่มีค่ารองของฟิลด์เหล่านี้จะถูกดึงข้อมูลด้วย ดังนั้น เมื่อคุณเลือก "อินเดีย" เป็นอาณาเขตในแบบฟอร์ม ลูกค้าทั้งหมดที่มีค่า "เขตแดน" ภายใต้อินเดียในแผนผังเขตแดนจะถูกเลือก
    - ตัวเลือก "ส่งไปยังผู้ติดต่อหลัก" จะส่งใบแจ้งยอดบัญชีไปยังรหัสอีเมลผู้ติดต่อหลักของลูกค้า นอกเหนือจากอีเมลเรียกเก็บเงิน

    <img class="screenshot" src="{{docs_base_url}}/assets/img/accounts/psoa-customers.png"><br>

5. ในส่วน "การตั้งค่าการพิมพ์" คุณสามารถเลือกได้ 2 ตัวเลือก:

    - การวางแนวการพิมพ์ของไฟล์ PDF ไม่ว่าจะเป็น "แนวนอน" หรือ "แนวตั้ง"
    - คุณต้องการดูรายงานอายุ (รายงานสรุปบัญชีลูกหนี้) ซึ่งแสดงจำนวนวันที่หมดอายุสำหรับ 30/60/90/120 วันสำหรับบัตรกำนัล (เช่น ใบกำกับสินค้า) โดยยึดตาม "วันที่ครบกำหนด" หรือ "วันที่ผ่านรายการ"

    <img class="screenshot" src="{{docs_base_url}}/assets/img/accounts/psoa-print.png">

6. "การตั้งค่าอีเมล" ให้คุณกำหนดค่าว่าต้องการให้ส่งอีเมลอย่างไร มีสองส่วนย่อยในนี้:

    <img class="screenshot" src="{{docs_base_url}}/assets/img/accounts/psoa-auto-email.png">
    
    - ในการเลือก "เปิดใช้งานอีเมลอัตโนมัติ" คุณจะเห็นตัวเลือกในการส่งรายงานอัตโนมัติเป็นระยะไปยังลูกค้าในรายการ
    - คุณสามารถเลือก "ความถี่" ที่จะส่งอีเมลหลังจาก "วันที่เริ่มต้น" ให้กับลูกค้า ตัวเลือกที่ใช้ได้คือรายสัปดาห์ รายเดือน และรายไตรมาส
    - คุณยังสามารถเลือก "ระยะเวลาการกรอง" เป็นเดือน ตัวอย่างเช่น หากคุณตั้งค่า "ระยะเวลาตัวกรอง" เป็น '3' คุณจะได้รับรายงานสำหรับสามเดือนที่ผ่านมานับจากวันที่ปัจจุบัน ในที่นี้ วันที่ปัจจุบันหมายถึงวันที่ส่งอีเมล
    - อีเมลเหล่านี้จะไม่ถูกส่งในทันทีแต่เป็นกระบวนการในเบื้องหลังในเวลาเที่ยงคืน
    - หลังจากนี้ คุณสามารถเลือกช่อง "หัวเรื่อง" "สำเนาถึง" และ "เนื้อหา" ของอีเมลได้ หากคุณไม่ได้ตั้งค่าให้กับฟิลด์นี้ ค่าเริ่มต้นจะถูกตั้งค่าตามที่แสดงด้านล่าง
    
    <img class="screenshot" src="{{docs_base_url}}/assets/img/accounts/psoa-email-default-content.png">

7. ตรวจสอบการตั้งค่าของคุณและคลิกที่ "บันทึก"

รอให้อีเมลถูกส่งหากคุณเปิดใช้งาน "เปิดใช้งานอีเมลอัตโนมัติ" หรือคลิกที่ส่งอีเมลเพื่อส่งทันที

## 3. คุณสมบัติ

### 3.1 ดาวน์โหลด PDF รวมของลูกค้าทั้งหมด

ในการสร้างรายการ จะมีปุ่มที่ด้านบนเรียกว่า "ดาวน์โหลด" ซึ่งช่วยให้คุณเห็นรายงานแบบรวม PDF ของลูกค้าทั้งหมด คุณสามารถใช้ข้อมูลนี้เพื่อตรวจสอบได้

### 3.2 ส่งอีเมลด้วยตนเอง

ในการสร้างรายการ จะมีปุ่มที่ด้านบนเรียกว่า "ส่งอีเมล" ซึ่งช่วยให้คุณทริกเกอร์การส่งอีเมลด้วยตนเองไปยังลูกค้าได้ อีเมลจะถูกจัดคิวผ่านงานพื้นหลัง ซึ่งคุณสามารถติดตามได้ในประเภทเอกสาร "คิวอีเมล" ด้วยการอ้างอิงประเภทเอกสารและเอกสาร คุณสามารถทำเช่นนี้ได้แม้ว่าจะเปิด "เปิดใช้งานอีเมลอัตโนมัติ" อยู่

<img class="screenshot" src="{{docs_base_url}}/assets/img/accounts/psoa-buttons.png">

### 3.3 การใช้ค่าไดนามิกในหัวข้อและเนื้อหาอีเมล

คุณสามารถใช้แท็ก Jinja เพื่อป้อนค่าไดนามิกจาก:

- ลูกค้าที่จะส่งอีเมลถึงภายใต้วัตถุ "ลูกค้า"
- ฟิลด์ใดก็ได้ในเอกสาร ใบแจ้งยอดบัญชี ที่เลือกภายใต้ออบเจกต์ "doc"
- วิธีการจาก [`frappe.utils`](https://github.com/frappe/frappe/blob/develop/frappe/utils/__init__.py) ภายใต้วัตถุ "frappe"

สามารถใช้งานได้ตามที่แสดงด้านล่าง:

<img class="screenshot" src="{{docs_base_url}}/assets/img/accounts/psoa-template.png">

อีเมล:

<img class="screenshot" src="{{docs_base_url}}/assets/img/accounts/psoa-email.png">

PDF:

<img class="screenshot" src="{{docs_base_url}}/assets/img/accounts/psoa-report.png">

## 4. หัวข้อที่เกี่ยวข้อง
1. [การตั้งค่าบัญชีอีเมล](/docs/user/manual/th/setting-up/email/email-account)
1. [การสร้างการติดต่อกับลูกค้า](/docs/user/manual/th/CRM/contact#1-how-to-create-a-contact)
1. [รายชื่อ](/docs/user/manual/th/CRM/contact)
