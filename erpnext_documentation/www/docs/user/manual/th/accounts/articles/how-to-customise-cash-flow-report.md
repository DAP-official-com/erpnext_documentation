<!-- add-breadcrumbs -->
# วิธีปรับแต่งรายงานกระแสเงินสด

เมื่อผังบัญชีของคุณเริ่มมีความซับซ้อนมากขึ้น มาตรฐานการรายงานมีการเปลี่ยนแปลงและพัฒนา กระแสเงินสดเริ่มต้น
รายงานอาจไม่เพียงพออีกต่อไป เนื่องจาก ERPNext อาจไม่สามารถคาดเดาการจัดประเภทได้อย่างถูกต้องและ
วัตถุประสงค์ของบัญชีทั้งหมดในผังบัญชี ปัญหาอีกอย่างที่คุณอาจมีคือการไม่สามารถปรับรายงานได้
รูปแบบให้เหมาะสมกับความต้องการของคุณ

สิ่งนี้จะไม่ใช่ปัญหาอีกต่อไปเพราะตอนนี้ ERPNext อนุญาตให้ผู้ใช้ปรับแต่งรายงานกระแสเงินสดได้


## ภาพรวมทางเทคนิค
การปรับแต่งทำได้โดยการแนะนำเอกสารใหม่สองประเภท - Cash Flow Mapper และ Cash Flow Mapping 
doctypes ทั้งคู่ข้อมูลที่จำเป็นในการสร้างรายงานกระแสเงินสด

Cash Flow Mapping แสดงให้เห็นว่าบัญชีในผังบัญชีของคุณจับคู่กับรายการในรายงานกระแสเงินสดของคุณอย่างไรในขณะที่
Cash Flow Mapper รับการแมปกระแสเงินสดทั้งหมดที่เกี่ยวข้องกับสามส่วนของงบกระแสเงินสด

ด้วยวิธีนี้ คุณจะสร้างรายงานกระแสเงินสดโดยละเอียดตามความต้องการของคุณ สิ่งนี้อาจไม่สมเหตุสมผลมากนัก แต่จะ
หลังจากที่เราผ่านตัวอย่าง

## ตัวอย่าง
### ข้อมูลพื้นฐาน
สมมติว่าเรามีบริษัทปลอมซึ่งเราต้องการสร้างรายงานกระแสเงินสด
นี่คือลักษณะของรายงานกระแสเงินสดในขณะนี้:
<img alt="Default cash flow report" class="screenshot" src="{{docs_base_url}}/assets/img/articles/default-cash-flow-report.png">

เราไม่ชอบรายงานด้วยเหตุผลดังต่อไปนี้:
- รูปแบบการรายงานมีน้อยเกินไป
- ตัวเลข 'เงินสดสุทธิจากการดำเนินงาน' ไม่ถูกต้อง

### กระบวนการปรับแต่ง

เราต้องการให้รายงานกระแสเงินสดมีลักษณะคล้ายกับรูปแบบในภาพด้านล่าง:
<img alt="cash flow format 1" class="screenshot" src="{{docs_base_url}}/assets/img/articles/format-1.png">
<img alt="cash flow format 1" class="screenshot" src="{{docs_base_url}}/assets/img/articles/format-2.png">

#### เปิดใช้งานรายงานกระแสเงินสดที่กำหนดเอง
ทำสิ่งนี้ในการตั้งค่าบัญชีโดยทำเครื่องหมายที่ช่อง 'ใช้รูปแบบกระแสเงินสดที่กำหนดเอง' ซึ่งจะทำให้ ERPNext เป็นเท่านั้น
ใช้รูปแบบที่กำหนดเองของคุณสำหรับรายงานกระแสเงินสด

หลังจากทำเช่นนั้น รายงานกระแสเงินสดของคุณควรมีลักษณะดังนี้:
<img alt="custom cash flow statement" class="screenshot" src="{{docs_base_url}}/assets/img/articles/no-mappers.png">

ย้ายไปยังส่วนถัดไปเพื่อสร้างรายงาน

#### สร้างการแมปกระแสเงินสด
สำหรับแต่ละบรรทัด เราจำเป็นต้องสร้างเอกสารการทำแผนที่กระแสเงินสดเพื่อเป็นตัวแทน

<img alt="new cash flow mapping form" class="screenshot" src="{{docs_base_url}}/assets/img/articles/new-cash-flow-mapping.png">

คุณสามารถนึกถึงการจับคู่กระแสเงินสดเพื่อเป็นตัวแทนของแต่ละบรรทัดในรายงานกระแสเงินสด การทำแผนที่กระแสเงินสด
เป็นลูกของ Cash Flow Mapper ซึ่งจะอธิบายในภายหลัง

เริ่มต้นด้วยการสร้างการแมปกระแสเงินสดที่จะแสดงถึงการบวกกลับของค่าใช้จ่ายที่ไม่ใช่เงินสดที่รับรู้แล้วใน
งบกำไรขาดทุน เราต้องการให้ปรากฏในใบแจ้งยอดเงินสดเป็น:
- ภาษีเงินได้รับรู้ในกำไรหรือขาดทุน
- ต้นทุนทางการเงินรับรู้ในกำไรหรือขาดทุน
- ค่าเสื่อมราคาของสินทรัพย์ไม่หมุนเวียน

เริ่มต้นด้วยการเปิดแบบฟอร์มการแมปกระแสเงินสดใหม่

ฟิลด์ในประเภทเอกสารการทำแผนที่กระแสเงินสดคือ:
- **ชื่อ**: สิ่งนี้เพื่อระบุเอกสารนี้ ตั้งชื่อสิ่งที่เกี่ยวข้องกับฉลาก
- **ป้ายกำกับ**: นี่คือสิ่งที่จะแสดงในงบกระแสเงินสด
- **บัญชี**: ตารางนี้มีบัญชีทั้งหมดที่เกี่ยวข้องกับบรรทัดนี้

ด้วยข้อมูลนี้ ให้ไปข้างหน้าและสร้างเอกสารการแมปกระแสเงินสดสำหรับบรรทัด 'ภาษีเงินได้รับรู้ในกำไรหรือขาดทุน'

<img alt="custom cash flow statement" class="screenshot" src="{{docs_base_url}}/assets/img/articles/cash-flow-mapping-1.png">

ฉันได้ตั้งชื่อว่า 'การเรียกเก็บภาษีเงินได้' และกำหนดป้ายกำกับว่า 'ภาษีเงินได้รับรู้ในกำไรหรือขาดทุน' เราต้องการสิ่งนี้
บรรทัดเพื่อแสดงการเรียกเก็บภาษีเงินได้จากงบกำไรขาดทุนของเรา บัญชีที่เกิดเหตุการณ์นี้ในแผนภูมิของเรา
ของบัญชีชื่อ 'ภาษีเงินได้' (ค่าใช้จ่าย) ดังนั้นฉันจึงเพิ่ม 'ภาษีเงินได้' ลงในตารางบัญชี ถ้าคุณมี
บัญชีเพิ่มเติมที่แสดงค่าใช้จ่ายภาษีเงินได้ คุณควรเพิ่มทั้งหมดที่นี่

เนื่องจากต้องมีการปรับค่าใช้จ่ายภาษีเงินได้เพิ่มเติมในงบกระแสเงินสด ให้ตรวจสอบ 'เป็นค่าใช้จ่ายภาษีเงินได้'
ช่องทำเครื่องหมาย นี่คือสิ่งที่จะช่วยให้ ERPNext คำนวณการปรับที่ต้องทำได้อย่างถูกต้อง

*เพื่อผลลัพธ์ที่ดีที่สุด ให้บัญชีหลักมีบัญชีย่อยที่ใช้การรายงานกระแสเงินสดเหมือนกัน
วัตถุประสงค์เพราะ ERPNext จะคำนวณการเปลี่ยนแปลงสุทธิของบัญชีย่อยทั้งหมดในสถานการณ์ที่บัญชีที่เลือก
เป็นบัญชีหลัก*

ในทำนองเดียวกัน ฉันได้สร้างการแมปสองรายการที่เหลือ

<img alt="custom cash flow statement" class="screenshot" src="{{docs_base_url}}/assets/img/articles/cash-flow-mapping-2.png">

ต้นทุนทางการเงินยังต้องได้รับการปรับ ดังนั้นตรวจสอบให้แน่ใจว่าได้เลือกช่องกาเครื่องหมาย 'เป็นต้นทุนทางการเงิน'

<img alt="custom cash flow statement" class="screenshot" src="{{docs_base_url}}/assets/img/articles/cash-flow-mapping-3.png">

ต่อไป มาเพิ่ม Cash Flow Mapping สำหรับรายการที่แสดงการเปลี่ยนแปลงของเงินทุนหมุนเวียน:
- เพิ่มขึ้น/(ลดลง) ในหนี้สินอื่น
- (เพิ่มขึ้น)/ลดลงในการค้าและลูกหนี้อื่น
- เพิ่มขึ้น/(ลดลง) ในการค้าและเจ้าหนี้อื่น
- ภาษีมูลค่าเพิ่มที่ต้องชำระ
- (เพิ่มขึ้น)/ลดลงในสินค้าคงคลัง

<img alt="custom cash flow statement" class="screenshot" src="{{docs_base_url}}/assets/img/articles/cash-flow-mapping-4.png">

<img alt="custom cash flow statement" class="screenshot" src="{{docs_base_url}}/assets/img/articles/cash-flow-mapping-5.png">

<img alt="custom cash flow statement" class="screenshot" src="{{docs_base_url}}/assets/img/articles/cash-flow-mapping-6.png">

<img alt="custom cash flow statement" class="screenshot" src="{{docs_base_url}}/assets/img/articles/cash-flow-mapping-7.png">

<img alt="custom cash flow statement" class="screenshot" src="{{docs_base_url}}/assets/img/articles/cash-flow-mapping-8.png">

ต้องบอก ERPNext ว่าการจับคู่เหล่านี้แสดงถึงการเปลี่ยนแปลงในเงินทุนหมุนเวียนโดยทำเครื่องหมายที่ 'กำลังทำงานอยู่
ช่องทำเครื่องหมาย 'ทุน'

ณ จุดนี้ เราได้สร้างการแมปทั้งหมดที่จำเป็นสำหรับส่วนกิจกรรมการดำเนินงานของกระแสเงินสดของเรา
คำให้การ. อย่างไรก็ตาม ERPNext ไม่ทราบจนกว่าเราจะสร้างเอกสาร Cash Flow Mapper เราจะสร้างกระแสเงินสด
เอกสาร Mapper ต่อไป


#### สร้างแผนที่กระแสเงินสด
ตัวแม็ปกระแสเงินสดแสดงถึงส่วนของงบกระแสเงินสด งบกระแสเงินสดมาตรฐานมีเพียงสาม
ดังนั้นเมื่อคุณดูรายการ Cash Flow Mapper คุณจะมีการสร้างสามรายการสำหรับคุณ:
- กิจกรรมการดำเนินงาน
- กิจกรรมจัดหาเงิน
- กิจกรรมการลงทุน

คุณจะไม่สามารถเพิ่มหรือลบรายการใดๆ ได้ แต่สามารถแก้ไขได้และเปลี่ยนชื่อได้
<img alt="cash flow mapper list" class="screenshot" src="{{docs_base_url}}/assets/img/articles/cash-flow-mapper-2.png">


เปิด Cash flow Mapper ของกิจกรรมการดำเนินงาน เพื่อให้เราสามารถเพิ่มการแมปกระแสเงินสดที่เราสร้างขึ้นได้


- **ชื่อส่วน**: นี่คือส่วนหัวของส่วน
- **หัวหน้าส่วน**: นี่คือหัวข้อย่อยแรกทันทีหลังจากตัวเลขกำไร เกี่ยวข้องกับการดำเนินงานเท่านั้น
ตัวทำแผนที่กระแสเงินสดของกิจกรรม
- **ผลรวมย่อยของส่วน**: นี่คือป้ายกำกับสำหรับยอดรวมย่อยในส่วนงบกระแสเงินสด เกี่ยวข้องกับการดำเนินงานเท่านั้น
ตัวทำแผนที่กระแสเงินสดของกิจกรรม
- **ส่วนท้ายของส่วน**: นี่คือป้ายกำกับสำหรับยอดรวมในส่วนของงบกระแสเงินสด
- **การทำแผนที่**: ตารางนี้ประกอบด้วยการแมปกระแสเงินสดทั้งหมดที่เกี่ยวข้องกับการทำแผนที่กระแสเงินสด

ตอนนี้เพิ่มการแมปกระแสเงินสดทั้งหมดที่คุณสร้างและบันทึก คุณควรมีสิ่งนี้:
<img alt="cash flow mapper for operating activities" class="screenshot" src="{{docs_base_url}}/assets/img/articles/cash-flow-mapper-4.png">

 รีเฟรชงบกระแสเงินสดและดูการเปลี่ยนแปลง
<img alt="updated cash flow report" class="screenshot" src="{{docs_base_url}}/assets/img/articles/cash-flow-mapper-3.png">

ตรวจสอบความต้องการของเราแต่เรายังไม่เสร็จ สร้างการแมปใหม่สำหรับ 'กิจกรรมการลงทุน' และ 'การเงิน
ส่วนกิจกรรมของงบกระแสเงินสด

<img alt="cash flow mapping" class="screenshot" src="{{docs_base_url}}/assets/img/articles/cash-flow-mapping-9.png">

<img alt="cash flow mapping" class="screenshot" src="{{docs_base_url}}/assets/img/articles/cash-flow-mapping-10.png">

<img alt="cash flow mapper for operating activities" class="screenshot" src="{{docs_base_url}}/assets/img/articles/cash-flow-mapper-5.png">

<img alt="cash flow mapper for operating activities" class="screenshot" src="{{docs_base_url}}/assets/img/articles/cash-flow-mapper-6.png">

นี่คือลักษณะที่งบกระแสเงินสดของเราตอนนี้:
<img alt="final cash flow statement" class="screenshot" src="{{docs_base_url}}/assets/img/articles/final-cash-flow.png">
