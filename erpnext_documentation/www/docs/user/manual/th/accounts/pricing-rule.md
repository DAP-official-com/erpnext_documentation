<!-- add-breadcrumbs -->
# กฎการกำหนดราคา

**กฎการกำหนดราคากำหนดกฎส่วนลด/การกำหนดราคาที่ใช้ตามเงื่อนไขที่ตั้งไว้**

กฎการกำหนดราคามีตัวเลือกมากมายซึ่งคุณสามารถควบคุมราคาของสินค้าได้ สามารถตั้งค่าตัวกรอง เช่น ปริมาณ วันที่ กลุ่ม และเงื่อนไขอื่นๆ ได้

กฎการกำหนดราคาจะค่อนข้างคล้ายกับ [กฎภาษี](/docs/user/manual/th/accounts/tax-rule).

ต่อไปนี้คือบางกรณีที่สามารถแก้ไขได้โดยใช้กฎการกำหนดราคา:

- ตามนโยบายการขายส่งเสริมการขาย หากลูกค้าซื้อสินค้ามากกว่า 10 หน่วย เขาจะได้รับส่วนลด 20%
- สำหรับลูกค้า "XYZ" ราคาขายสำหรับสินค้าเฉพาะควรอัปเดตเป็น ###
- รายการที่จัดอยู่ในกลุ่มสินค้าเฉพาะจะมีราคาขายหรือซื้อเท่ากัน
- ลูกค้าที่อยู่ในกลุ่มลูกค้าเฉพาะควรได้รับราคาขาย ### หรือ% ของส่วนลดสินค้า
- ซัพพลายเออร์ที่จัดประเภทภายใต้กลุ่มซัพพลายเออร์เฉพาะควรมีอัตราการซื้อ ###
- หากต้องการใช้ส่วนลดและรายการราคาสำหรับสินค้าโดยอัตโนมัติ ให้สร้างกฎการกำหนดราคาสำหรับรายการนั้น

ในการเข้าถึงรายการกฎการกำหนดราคา ไปที่:

>หน้าหลัก > การบัญชี > กฎการกำหนดราคา

## 1. ข้อกำหนดเบื้องต้น
ก่อนสร้างและใช้กฎการกำหนดราคา ขอแนะนำให้สร้างสิ่งต่อไปนี้ก่อน:

1. [สินค้า](/docs/user/manual/th/stock/item)
1. [กลุ่มสินค้า](/docs/user/manual/th/stock/item-group)
1. [ลูกค้า](/docs/user/manual/th/CRM/customer)
1. [ซัพพลายเออร์](/docs/user/manual/th/buying/supplier)

## 2. Hวิธีสร้างกฎการกำหนดราคา
1. ไปที่รายการกฎการกำหนดราคาและคลิกที่ใหม่
1. ตั้งชื่อสำหรับกฎ
1. เลือกสิ่งที่จะนำไปใช้จากรหัสสินค้า กลุ่มสินค้า แบรนด์ หรือธุรกรรม
1. เลือกว่าคุณต้องการใช้ส่วนลดราคาหรือส่วนลดสินค้า หากคุณต้องการให้สินค้าฟรี ให้เลือกส่วนลดสินค้า
 <img alt="Applicable On" class="screenshot" src="{{docs_base_url}}/assets/img/articles/pricing-rule-on.png">

1. สำหรับรายการเดียว ให้เลือก รหัสรายการ แล้วเลือกรายการ
1. หากคุณต้องการใช้กฎการกำหนดราคากับรายการทั้งหมด ให้เลือก 'กลุ่มรายการ' และเลือกกลุ่มรายการทั้งหมด (กลุ่มรายการหลัก)
1. กำหนดส่วนลด/ราคาที่จะใช้ อ่าน [ที่นี่](/docs/user/manual/th/accounts/pricing-rule#35-price-discount-scheme)เพื่อทราบข้อมูลเพิ่มเติม
1. บันทึก

### 2.1 ตัวเลือกเพิ่มเติมเมื่อสร้างกฎการกำหนดราคา 

#### คลังสินค้า 
การตั้งค่าคลังสินค้าที่นี่จะทำให้ใช้กฎการกำหนดราคาก็ต่อเมื่อสินค้าถูกเลือกจากคลังสินค้าที่ระบุไว้ที่นี่

#### การใช้กฎ
ตามแอตทริบิวต์ที่เลือกในฟิลด์ 'นำไปใช้กับ' คุณสามารถตั้งค่ากฎการกำหนดราคาโดยพิจารณาจากสิ่งใดสิ่งหนึ่งต่อไปนี้:

* [สินค้า](/docs/user/manual/th/stock/item)
* [กลุ่มสินค้า](/docs/user/manual/th/stock/item-group)
* ยี่ห้อ
* ธุรกรรม (ตามยอดรวมของรายการ)

ในตารางนี้ คุณสามารถเลือกรายการ/กลุ่มสินค้า/แบรนด์เฉพาะได้ ตัวอย่างเช่น หากคุณเลือกใช้กับ 'กลุ่มสินค้า' และเลือก 'วัตถุดิบ' ในตาราง กฎการกำหนดราคานี้จะใช้กับสินค้าที่อยู่ในกลุ่ม 'วัตถุดิบ' เท่านั้น

**UoM** : กฎการกำหนดราคาจะใช้ได้ก็ต่อเมื่อ UoM ที่ตั้งไว้ที่นี่ตรงกับธุรกรรม

#### เงื่อนไข 

ในฟิลด์นี้ คุณสามารถเพิ่มเงื่อนไขใน python เพื่อตรวจสอบกับค่าของฟิลด์ในประเภทเอกสารธุรกรรม ดังที่แสดงด้านล่างสำหรับใบแจ้งหนี้การซื้อ
```
customer=='Customer Name' and status!='Overdue'
```

> โปรดทราบว่าเงื่อนไขใน python จะต้องเป็นบรรทัดเดียวเท่านั้นที่จะใช้งานได้ โดยใช้ชื่อฟิลด์ของประเภทเอกสารเป้าหมาย

#### เงื่อนไขผสม 
หากคุณเลือกรายการตั้งแต่สองรายการขึ้นไปและตั้งค่าจำนวนต่ำสุดและสูงสุด กฎการกำหนดราคาจะใช้เฉพาะเมื่อผลรวมของรายการตรงกับปริมาณที่กำหนด ตัวอย่างเช่น คุณสร้างกฎการกำหนดราคาสำหรับรายการที่ 1 และรายการที่ 2 และตั้งค่าจำนวนต่ำสุดและสูงสุดเป็น 30 กฎการกำหนดราคาจะใช้ได้เฉพาะเมื่อปริมาณทั้งหมดคือ 30

#### เป็นค่าสะสม 
การเปิดใช้งานตัวเลือกนี้ทำให้สามารถใช้กฎการกำหนดราคาแบบสะสมได้ คุณต้องตั้งค่า 'Min Amt' และ 'Max Amt' สำหรับสิ่งนี้

พิจารณาสถานการณ์ที่ Min Amt คือ 1,500 และ Max Amt คือ 2,000 ตอนนี้ หากมีการสร้างธุรกรรมหนึ่งรายการสำหรับ 1,400 กฎการกำหนดราคาจะไม่ถูกนำไปใช้ อย่างไรก็ตาม ในการสร้างใบแจ้งหนี้ใบที่สองจำนวน 600 กฎการกำหนดราคาจะถูกนำมาใช้ สิ่งนี้เกิดขึ้นเนื่องจากยอดรวม (สะสม) ของใบแจ้งหนี้รวมกันเป็น 2,000 โปรดทราบว่าส่วนลดจะใช้กับธุรกรรมล่าสุดที่เกินขีดจำกัดสะสมเท่านั้น

สิ่งนี้มีประโยชน์ในการให้ส่วนลดหากลูกค้าซื้อสินค้าหลายครั้งและคุณต้องการให้รางวัลเขาด้วยส่วนลด/ราคาพิเศษ

## 3. คุณสมบัติ

### 3.1 ใช้กฎกับผู้อื่น 
คุณลักษณะนี้จะตรวจสอบเงื่อนไขในรายการแรกแต่ใช้กฎกับรายการอื่น

![Apply rule on other](/docs/assets/img/articles/pricing-rule-other.png)

ตัวอย่างเช่น ตั้งค่า สินค้า1 และ สินค้า2 ในตาราง 'ใช้กฎกับ' และตั้งค่า 'ใช้กฎกับผู้อื่น' บน สินค้า3 ตอนนี้ หากธุรกรรมมีรายการที่ 1 รายการที่ 2 และรายการที่ 3 กฎการกำหนดราคาจะมีผลกับรายการที่ 3 เนื่องจากรายการสองรายการแรกมีอยู่ในธุรกรรม

### 3.2 ข้อมูลของผู้ที่เกี่ยวข้อง

กำหนดว่ากฎการกำหนดราคามีไว้สำหรับการขายการซื้อสินค้าหรือไม่

จากการเลือกของคุณ คุณสามารถตั้งค่าการบังคับใช้กับหนึ่งในต้นแบบต่อไปนี้

* [ลูกค้า](/docs/user/manual/th/CRM/customer)
* [กลุ่มลูกค้า](/docs/user/manual/th/CRM/customer-group)
* [พื้นที่](/docs/user/manual/th/selling/territory)
* [พันธมิตรการขาย](/docs/user/manual/th/selling/sales-partner)
* [แคมเปญ](/docs/user/manual/th/CRM/campaign)
* [ซัพพลายเออร์](/docs/user/manual/th/buying/supplier)
* กลุ่่มซัพพลายเออร์ 

### 3.3 จำนวนและยอดเงิน
ระบุจำนวนขั้นต่ำ จำนวนสูงสุด จำนวนขั้นต่ำ หรือจำนวนสูงสุดของรายการเมื่อควรใช้กฎการกำหนดราคานี้

โปรดทราบว่าหากปริมาณหรือจำนวนเงินขาดหายไปหรือเกินขีดจำกัดที่กำหนดไว้ที่นี่ กฎการกำหนดราคาจะไม่ถูกนำไปใช้เลย อย่างไรก็ตาม จะมีผลหากคุณเปิดใช้งานตัวเลือก เงื่อนไขแบบผสม หรือ แบบสะสม

<img alt="Applicable Qty" class="screenshot" src="{{docs_base_url}}/assets/img/articles/pricing-rule-qty-amt.png">

### 3.4 ตรวจสอบข้อมูล
คุณยังสามารถกำหนดช่วงวันที่ว่ากฎการกำหนดราคาจะมีผลเมื่อใด สิ่งนี้มีประโยชน์สำหรับการส่งเสริมการขาย เมื่อเว้นวันที่ว่างไว้ กฎการกำหนดราคาจะไม่มีการจำกัดกรอบเวลา

<img alt="Period" class="screenshot" src="{{docs_base_url}}/assets/img/articles/pricing-rule-period.png">

### 3.5 มาร์จิ้น

![Pricing Rule Margin](/docs/assets/img/articles/pricing-rule-margin1.png)

* **ประเภทมาร์จิ้น**: เมื่อขายสินค้า คุณอาจขายมันด้วยมาร์จิ้นที่แน่นอน หากคุณไม่ต้องการเพิ่มราคาขายให้กับรายการทุกครั้งและต้องการตั้งค่ามาร์จิ้นโดยอัตโนมัติ ก็สามารถทำได้ด้วยคุณสมบัตินี้re.

* **อัตราหรือจำนวนเงินมาร์จิ้น**: มาร์จิ้นสามารถขึ้นอยู่กับเปอร์เซ็นต์หรือจำนวนเงิน เช่น มาร์จิ้น 5% หรือมาร์จิ้นคงที่ $50

อ่าน [การเพิ่มมาร์จิ้น](/docs/user/manual/th/selling/articles/adding-margin) เพื่อทราบข้อมูลเพิ่มเติม

### 3.6 การลดราคา
กฎจริงที่จะนำไปใช้มีการตั้งค่าไว้ในส่วนนี้

![Pricing Rule](/docs/assets/img/articles/pricing-rule-rule.png)

* **เรท**: เป็นอัตราใหม่สำหรับไอเท็ม ตัวอย่างเช่น หากคุณขายสินค้าในราคา 100 และต้องการขายในราคา 112 สำหรับบุคคลใดฝ่ายหนึ่ง ให้เลือกอัตราและกำหนดอัตราเป็น 112
* **เปอร์เซ็นต์ส่วนลด** : สามารถกำหนดเปอร์เซ็นต์ส่วนลดเฉพาะได้ เปอร์เซ็นต์ส่วนลดสามารถกำหนดเป็น [รายการราคา](/docs/user/manual/th/stock/price-lists)เฉพาะได้ การเว้น 'สำหรับรายการราคา' ว่างไว้จะเป็นการนำกฎการกำหนดราคาไปใช้กับรายการราคาทั้งหมด
* **จำนวนส่วนลด** : จำนวนส่วนลดคงที่จะถูกนำไปใช้ ตัวอย่างเช่น หากคุณขายสินค้าในราคา 100 และต้องการขายโดยมีส่วนลด 7 เงื่อนไขนี้สามารถตั้งค่าได้โดยใช้ตัวเลือกจำนวนส่วนลด

### 3.7 การตั้งค่าขั้นสูง

![Pricing Rule Advance](/docs/assets/img/articles/pricing-rule-adv.png)

* **Threshold for Suggestion**: เกณฑ์ที่ระบบจะแจ้งให้คุณปรับปริมาณสินค้าเพื่อรับส่วนลด ตัวอย่างเช่น หากปริมาณขั้นต่ำคือ 10 และเกณฑ์คือ 9 ระบบจะแจ้งให้เพิ่มสินค้าอีก 1 รายการเพื่อใช้ส่วนลด นอกจากนี้ยังใช้กับจำนวนเงินที่ตั้งไว้

* **ลำดับความสำคัญ**: พิจารณากลุ่มรายการ คุณต้องการกำหนดกฎเฉพาะสำหรับรายการเดียวจากกลุ่ม ซึ่งสามารถทำได้โดยการสร้างกฎการกำหนดราคาใหม่และตั้งค่าลำดับความสำคัญที่สูงขึ้น นอกจากนี้ยังใช้กับกลุ่มลูกค้าและกลุ่มซัพพลายเออร์ได้อีกด้วย

* **ใช้กฎการกำหนดราคาหลายข้อ**: ให้พิจารณารายการที่มีอัตรา 500 มีกฎการกำหนดราคาอยู่สองข้อคือ P1 และ P2 P1 รับส่วนลด 10% และ P2 รับส่วนลด 5% การเปิดใช้งานตัวเลือกนี้จะมีผลรวม 15% ของอัตราไอเท็มซึ่งให้ 425

* **ใช้อัตราส่วนลด**: ส่วนลดจะถูกทบต้น พิจารณาสถานการณ์เดียวกันกับข้างต้น เมื่อเปิดใช้งานตัวเลือกนี้ 10% จะถูกนำไปใช้ใน 500 ซึ่งจะให้ 450 จากนั้น 5% จะถูกนำไปใช้ใน 450 ซึ่งจะให้ 427.5

* **ตรวจสอบกฎที่ใช้**: แสดงข้อความตรวจสอบความถูกต้องที่ป้อน หากส่วนลด/อัตราที่คุณกำหนดด้วยตนเองในธุรกรรมไม่ตรงกับกฎการกำหนดราคา

สิ่งนี้มีประโยชน์เมื่อผู้จัดจำหน่ายชั้นนำในลำดับชั้นตัดสินใจว่าจะใช้ส่วนลด/อัตรา และคุณกำลังตรวจสอบเฉพาะในกรณีที่ใช้กฎการกำหนดราคาอย่างถูกต้องเท่านั้น

## 4. ประเภทส่วนลดกฎการกำหนดราคา
### 4.1 ส่วนลดราคา

1. คุณสามารถตั้งค่าว่าจะคำนวณมาร์จิ้นเป็นเปอร์เซ็นต์หรือจำนวนเงิน เช่น อัตรากำไรขั้นต้น 10% ของรายการราคาซัพพลายเออร์ ณ เวลาที่ขาย

1. อัตราที่กล่าวถึงในกฎการกำหนดราคาจะมีความสำคัญเหนืออัตรารายการราคาของสินค้า (ราคาสินค้า)

 <img alt="Applicable Rate" class="screenshot" src="/docs/assets/img/articles/pricing-rule-price.png">

1. เปอร์เซ็นต์ส่วนลดสามารถใช้ได้กับรายการราคาเฉพาะ (การขายหรือการซื้อ) หากต้องการนำไปใช้กับทั้งคู่ ให้เว้นฟิลด์ 'สำหรับรายการราคา' ว่างไว้

 <img alt="Discount" class="screenshot" src="{{docs_base_url}}/assets/img/articles/pricing-rule-discount.png">

1. ส่วนลดสามารถกำหนดเป็นจำนวนเงินได้

 <img alt="Discount" class="screenshot" src="{{docs_base_url}}/assets/img/articles/pricing-rule-discount-amt.png">

### 4.2 ส่วนลดสินค้า

1. "ซื้อ 2 ปริมาณ แถมฟรี 1 ชิ้นต่อชิ้น" ในการกำหนดค่ากฎประเภทดังกล่าว ให้ตั้งค่าราคาหรือส่วนลดสินค้าเป็น 'ส่วนลดผลิตภัณฑ์' ทำเครื่องหมายในช่องรายการเดียวกัน และกำหนดปริมาณ

 <img alt="Discount" class="screenshot" src="{{docs_base_url}}/assets/img/articles/pricing-rule-same-product-free.png">

1. "ซื้อ 2 ปริมาณ แถมฟรีอีก 1 ชิ้น" เพื่อกำหนดค่ากฎประเภทดังกล่าว กำหนดราคาหรือส่วนลดสินค้าเป็นส่วนลดสินค้า ยกเลิกการเลือกกล่องกาเครื่องหมาย 'รายการเดียวกัน' และตั้งค่า 'รายการฟรี' และจำนวน

 <img alt="Discount" class="screenshot" src="{{docs_base_url}}/assets/img/articles/pricing-rule-other-product-free.png">

### 5. หัวข้อที่เกี่ยวข้อง
1. [โครงการส่งเสริมการขาย](/docs/user/manual/th/accounts/promotional-scheme)
1. [กฎภาษี](/docs/user/manual/th/accounts/tax-rule)
1. [ซัพพลายเออร์](/docs/user/manual/th/buying/supplier)
1. [สินค้า](/docs/user/manual/th/stock/item)
