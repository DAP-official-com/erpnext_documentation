<!-- add-breadcrumbs -->

# อัปโหลดข้อมูลสำรองไปยัง Amazon S3

## ข้อกำหนดเบื้องต้น

- [บัญชีอีเมล](/docs/user/manual/th/setting-up/email/email-account)

    หากต้องการรับอีเมลสำหรับการสำรองข้อมูลที่ล้มเหลวและสำเร็จ โปรดสร้าง **บัญชีอีเมล** ก่อน

## สร้างถัง S3 และตั้งค่าการเข้าถึง

1. สร้างบัคเก็ต s3 ใหม่

    ในการตั้งค่าที่เก็บข้อมูล ให้เปิดใช้งาน "บล็อกการเข้าถึงสาธารณะทั้งหมด" เพื่อให้ข้อมูลของคุณเป็นส่วนตัว เปิดใช้งานการเข้ารหัส การกำหนดเวอร์ชัน หรือล็อกอ็อบเจ็กต์ได้ตามต้องการ (โปรดดู [เอกสารประกอบของ Amazon](https://docs.aws.amazon.com/AmazonS3/latest/user-guide/create-bucket.html)) .

2. เปิดการจัดการข้อมูลประจำตัวและการเข้าถึง (IAM)

    1. สร้างนโยบายใหม่สำหรับบริการ "S3" อนุญาตให้ดำเนินการ "ListBucket" และ "PutObject"

    2. สร้างผู้ใช้ใหม่สำหรับการเข้าถึงแบบเป็นโปรแกรม

        ![สกรีนช็อตของ "เพิ่มผู้ใช้" ใน AWS](/docs/assets/img/erpnext_integrations/s3_backup_add_user.png)

    3. แนบนโยบายที่คุณสร้างกับผู้ใช้ใหม่

    4. คัดลอกรหัสการเข้าถึงและข้อมูลลับของผู้ใช้

หากต้องการลบข้อมูลสำรองเก่าโดยอัตโนมัติหรือย้ายไปยังคลาสพื้นที่จัดเก็บที่ถูกกว่า โปรดดู[การจัดการวงจรชีวิต](https://docs.aws.amazon.com/AmazonS3/latest/dev/object-lifecycle-mgmt.html)

## ตั้งค่า ERPNext

- เปิด **การตั้งค่าการสำรองข้อมูล S3**
- ทำเครื่องหมายที่ "เปิดใช้งานการสำรองข้อมูลอัตโนมัติ"
- วางรหัสการเข้าถึงและข้อมูลลับจาก AWS
- ตั้งค่าที่อยู่อีเมลเพื่อรับการแจ้งเตือนเมื่อการสำรองข้อมูลล้มเหลว หากคุณต้องการอีเมลสำหรับการสำรองข้อมูลที่สำเร็จด้วย ให้เปิดใช้งาน "ส่งอีเมลสำหรับการสำรองข้อมูลที่สำเร็จ"
- ระบุชื่อที่ฝากข้อมูลที่คุณสร้างในขั้นตอนที่ 1
- เลือกความถี่ที่คุณต้องการใช้และอัปโหลดข้อมูลสำรอง ซึ่งอาจอยู่ในช่วงตั้งแต่รายเดือนไปจนถึงรายวัน หากคุณต้องการสำรองข้อมูลด้วยตนเองเท่านั้น ให้ตั้งค่าความถี่เป็น "ไม่มี"

![S3 Backup Settings in ERPNext](/docs/assets/img/erpnext_integrations/s3_backup_settings.png)
